# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## 言語設定 (Language Configuration)

このプロジェクトは日本語環境での動作を前提としています。

- **コミュニケーション**: 日本語で対応してください
- **コメント**: コードコメントは日本語で記述
- **ドキュメント**: 技術文書は日本語で作成
- **エラーメッセージ**: 可能な限り日本語で表示
- **変数名・関数名**: 英語を使用（国際的な慣例に従う）

## プロジェクト
本プロジェクトでは、素のHTMLとJavaScriptとTailwind CSSのCDN版のみを使用して以下の機能を実装します。なお、JavaScriptのフレームワークやライブラリ、Tailwind CSS以外のフレームワークは利用しません。

## 機能要件 (Functional Requirements)
- プロジェクトの名前はグループ分けツール
- HTMLのページが表示されている
- ユーザの名前を改行で入力できるテキストエリアがある
- 分割するグループ数を2~16の間で選択できるドロップダウンがある
- グループ分けボタンがある
- グループ分けされたユーザーを表示するエリアがある
- グループ名は「グループ1」「グループ2」...のように自動で生成される
- 特定のリストで作成した過去のグループは、履歴となって保存されている
- 各グループで過去同じグループに所属した人がだけ最少となるようにグループ分けする
- 履歴には、その組み合わせのリストに関して、個々人に対して、それぞれ他の人と何回同じグループになったかの回数がすべてが保存されている
- グループ分けのアルゴリズムは以下のようになる
  - 初回は完全にランダム
  - 2回目は特定の人に関して、過去同じグループになったことがある人の数を最小にする。そのために一度も同じグループになった人のない人でまずグループを分け、一緒にし、その後、一緒になった人がなるべく少ない順にランダムに振り分けてグループ分けをしていく。
- グループ分けの結果、過去一緒おなじグループになったことのあるペアの数をグループごとに表示しておく (7人の場合は、35組のペアがあり、そのうちの何ペアが過去同じグループになったことがあるかを表示する)  
- グループ履歴を削除するボタンがあり、グループ履歴が削除できる

## 非機能要件
- 使い方のREADME.mdを作成すること
- Gitでの管理をするために、.gitignoreを作成すること
- Cloudflare Workersへのデプロイに対応
- README.mdにwranglerを利用したCloudflare Workersへのデプロイ手順を記載
- PCとスマホのレスポンシブ対応
- スマートフォンでも利用しやすいタッチ操作対応
- イタリアっぽいカフェのようなおしゃれなデザイン

## 技術要件 (Technical Requirements)
- **HTML**: 素のHTMLを使用
- **JavaScript**: 素のJavaScriptを使用
- **CSS**: Tailwind CSSのCDN版を使用
- **Web Storage**: 履歴の保存に使用
